(this.webpackJsonpnametagapp=this.webpackJsonpnametagapp||[]).push([[7,13],{107:function(e,t,a){"use strict";a.r(t);var n=a(73),i=a(67),r=a(0),o=a.n(r),c=a(9),l=a(16),s=a(59),u=a(87),m=a(86),d=a(56),f=a(100),h=a(105),g=a(102),p=(a(39),a(85),a(97)),E=a.n(p),b=a(63),y=a(66);var N=function(e){Object(r.useEffect)((function(){}),[e.data]);var t=function(t){var a=parseInt(t.target.id[0]),i=parseInt(t.target.id.slice(2));if("blur"===t.type||"Enter"===t.key||"Tab"===t.key){var r=e.data,o=Object(y.a)(t.target.value);0===a?(r[i].name=o,t.target.value=e.data[i].name):1===a?(r[i].secondLine=o,t.target.value=e.data[i].secondLine):(r[i].thirdLine=o,t.target.value=e.data[i].thirdLine),e.setData(Object(n.a)(r))}if("Enter"===t.key){var c=i+1;c="0-"+c,document.getElementById(c).focus()}if("ArrowUp"===t.key){var l=i-1;l<0&&(l=0),l=a+"-"+l,document.getElementById(l).focus()}else if("ArrowDown"===t.key){var s=i+1;s=a+"-"+s,document.getElementById(s).focus()}else if("ArrowLeft"===t.key){var u=a-1;u<0&&(u=2),u=u+"-"+i,document.getElementById(u).focus()}else if("ArrowRight"===t.key){var m=a+1;m>2&&(m=0),m=m+"-"+i,document.getElementById(m).focus()}},a=function(t,a){a+1===e.data.length&&e.setData([].concat(Object(n.a)(e.data),[{name:"",secondLine:"",thirdLine:""}])),document.getElementById(t.target.id).select()},i=function(t){var a=t.clipboardData.getData("Text"),i=e.data;t.preventDefault();var r=parseInt(t.target.id[0]),o=parseInt(t.target.id.slice(2)),c=r,l=a.split("\n");l.pop(),l.forEach((function(a,n){a.split("\t").forEach((function(a,c){var l=Object(y.a)(a);0===r?(i[o].name=l,0===n&&0===c&&(t.target.value=e.data[o].name)):1===r?(i[o].secondLine=l,0===n&&0===c&&(t.target.value=e.data[o].secondLine)):2===r&&(i[o].thirdLine=l,0===n&&0===c&&(t.target.value=e.data[o].thirdLine)),r++})),i.push({name:"",secondLine:"",thirdLine:""}),o++,r=c})),e.setData(Object(n.a)(i))};return o.a.createElement("table",null,o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("td",{className:"td-cell"},"NAME / Ski-Basket Check #"),o.a.createElement("td",{className:"td-cell"},"City, ST / Title"),o.a.createElement("td",{className:"td-cell"},"Third Line")),e.data.map((function(e,n){return o.a.createElement("tr",{key:n},o.a.createElement("td",{className:"td-cell"},o.a.createElement(h.a,{defaultValue:e.name,className:"cell-input","aria-label":"cell input",id:"0-"+n,onKeyDown:function(e){t(e)},onBlur:function(e){t(e)},onFocus:function(e){a(e,n)},onPaste:function(e){i(e)}})),o.a.createElement("td",{className:"td-cell"},o.a.createElement(h.a,{defaultValue:e.secondLine,className:"cell-input","aria-label":"cell input",id:"1-"+n,onKeyDown:function(e){t(e)},onBlur:function(e){t(e)},onFocus:function(e){a(e,n)},onPaste:function(e){i(e)}})),o.a.createElement("td",{className:"td-cell"},o.a.createElement(h.a,{defaultValue:e.thirdLine,className:"cell-input","aria-label":"cell input",id:"2-"+n,onKeyDown:function(e){t(e)},onBlur:function(e){t(e)},onFocus:function(e){a(e,n)},onPaste:function(e){i(e)}})))}))))},v=a(64);t.default=function(){var e=parseInt(Object(c.g)().id),t=Object(c.f)(),a=Object(r.useState)(!1),p=Object(i.a)(a,2),w=p[0],L=p[1],x=Object(r.useState)(""),A=Object(i.a)(x,2),j=A[0],O=A[1],k=Object(r.useState)(""),C=Object(i.a)(k,2),I=C[0],S=C[1],M=Object(r.useState)(1===e?"2 PINS":"2 MAGNETS"),T=Object(i.a)(M,2),q=T[0],P=T[1],D=Object(r.useState)([{name:"",color:e,secondLine:"",thirdLine:"",requestor:"",comments:"",quantity:1===e?"2 PINS":"2 MAGNETS"}]),R=Object(i.a)(D,2),W=R[0],B=R[1],K=Object(r.useState)(!0),F=Object(i.a)(K,2),G=F[0],V=F[1],z=Object(r.useState)(0),_=Object(i.a)(z,2),H=_[0],U=_[1],Y=Object(r.useState)([{name:"",secondLine:"",thirdLine:""},{name:"",secondLine:"",thirdLine:""},{name:"",secondLine:"",thirdLine:""},{name:"",secondLine:"",thirdLine:""},{name:"",secondLine:"",thirdLine:""},{name:"",secondLine:"",thirdLine:""},{name:"",secondLine:"",thirdLine:""},{name:"",secondLine:"",thirdLine:""}]),J=Object(i.a)(Y,2),Z=J[0],Q=J[1];return Object(r.useEffect)((function(){var t=[],a=0;Z.forEach((function(n,i){""===n.name||(t.push(n),t[a].color=e,t[a].comments=j,t[a].requestor=I,t[a].quantity=q,a++)})),B([].concat(t))}),[Z,j,I,e,q]),Object(r.useEffect)((function(){0===W.length?(V(!0),U(0)):""===W[0].name&&""===W[0].requestor?(V(!0),U(0)):""===W[0].name?(V(!0),U(2)):""===W[0].requestor?(V(!0),U(1)):""!==W[0].name&&""!==W[0].requestor?(V(!1),U(4)):console.log("use Effect [submitArray] ran into some other condition on validation!")}),[W]),o.a.createElement(s.a,null,o.a.createElement(u.a,{className:"justify-content-between nav-h4-bar-bg"},o.a.createElement(m.a,{xs:"auto",className:"p-0"},o.a.createElement(l.b,{to:"/"},o.a.createElement(d.a,null,"BACK"))),o.a.createElement(m.a,{xs:"auto"},o.a.createElement("h4",{className:"nav-h4-bar"},"MULTIPLE TAGS")),o.a.createElement(m.a,{xs:"auto",className:"p-0"})),o.a.createElement(u.a,{className:"mt-3"},o.a.createElement(f.a,null,o.a.createElement(h.a,{placeholder:"Requestor (or: WHO to Mail it to)","aria-label":"Requestor","aria-describedby":"basic-addon1",onChange:function(e){var t=Object(y.a)(e.target.value);S(t)}}))),o.a.createElement(u.a,{className:"justify-content-between"},o.a.createElement(m.a,{xs:12,lg:3},o.a.createElement(u.a,{className:"mt-3"},o.a.createElement(d.a,{variant:"primary",className:"multi-left-button",onClick:function(){L(!0)}},"See Example"),o.a.createElement(g.a,{size:"xl",show:w,onHide:function(){L(!1)}},o.a.createElement(g.a.Header,{closeButton:!0}),o.a.createElement(g.a.Body,null,o.a.createElement("img",{id:"example-img-id",src:E.a,alt:"example of how to paste from excel"})))),o.a.createElement(u.a,{className:"mt-3 justify-content-between"},o.a.createElement(d.a,{className:"multi-left-button",onClick:function(){var e,t=[];for(e=0;e<10;e++)t.push({name:"",secondLine:"",thirdLine:""});Q([].concat(Object(n.a)(Z),t))}},"Add 10 Rows"))),o.a.createElement(m.a,{xs:12,lg:9,className:"px-0 mt-3"},o.a.createElement(f.a,{id:"comment-box"},o.a.createElement(h.a,{as:"textarea",placeholder:"Comments","aria-label":"Comments","aria-describedby":"basic-addon1",onChange:function(e){var t=Object(y.a)(e.target.value);O(t)}})))),o.a.createElement(u.a,{className:"mt-3"},o.a.createElement(N,{data:Z,setData:Q})),(1===e||2===e||3===e)&&o.a.createElement(u.a,{className:"justify-content-between pinmag-row mt-3"},o.a.createElement(m.a,{xs:12,md:"auto",className:"px-0"},o.a.createElement("label",{className:"mb-0"},o.a.createElement(f.a,null,o.a.createElement(f.a.Prepend,null,o.a.createElement(f.a.Radio,{name:"pinmag","aria-label":"Radio for PIN",defaultChecked:1===e,onChange:function(e){e.target.checked&&P("2 PINS")}})),o.a.createElement(f.a.Append,null,o.a.createElement(f.a.Text,null,"2 PINS"))))),o.a.createElement(m.a,{xs:12,md:"auto",className:"px-0"},o.a.createElement("label",{className:"mb-0"},o.a.createElement(f.a,null,o.a.createElement(f.a.Prepend,null,o.a.createElement(f.a.Radio,{name:"pinmag","aria-label":"Radio for PIN",defaultChecked:1!==e,onChange:function(e){e.target.checked&&P("2 MAGNETS")}})),o.a.createElement(f.a.Append,null,o.a.createElement(f.a.Text,null,"2 MAGNETS"))))),o.a.createElement(m.a,{xs:12,md:"auto",className:"px-0"},o.a.createElement("label",{className:"mb-0"},o.a.createElement(f.a,null,o.a.createElement(f.a.Prepend,null,o.a.createElement(f.a.Radio,{name:"pinmag","aria-label":"Radio for PIN and MAG",onChange:function(e){e.target.checked&&P("1 PIN + 1 MAGNET")}})),o.a.createElement(f.a.Append,null,o.a.createElement(f.a.Text,null,"1 PIN + 1 MAGNET")))))),o.a.createElement(u.a,null,o.a.createElement("h5",null,"Preview:")),o.a.createElement(u.a,{className:"mt-3"},W.map((function(t,a){return o.a.createElement(m.a,{xs:12,md:6,lg:4,key:a},o.a.createElement(b.default,{data:{colorCode:e,name:t.name,secondLine:t.secondLine,thirdLine:t.thirdLine}}))}))),o.a.createElement(u.a,{className:"mt-3 justify-content-end"},o.a.createElement(m.a,{xs:12,md:12,lg:"auto"},o.a.createElement("p",{className:"mt-2"},["There must be a requestor, there must be at least 1 name or check #","There must be a requestor.","The Name on the tag must be at least 3 characters","Submitting...",""][H])),o.a.createElement(m.a,{xs:12,md:12,lg:"auto"},o.a.createElement(d.a,{type:"submit",disabled:G,onClick:function(){!1===G&&(U(3),Object(v.a)({mode:"new_entry",writeData:W}).then((function(e){t.push("/status")})))}},"Submit Request"))))}},62:function(e,t,a){},63:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(86),o=a(59),c=a(87);a(65),a(62);t.default=function(e){var t,a,n=function(e){var t={bg:"",img:"null-space",defName:"Name",defSecond:"City, ST",quantity:"x2"};return 1===e?t.bg="tag-green":2===e?(t.bg="tag-greenmag",t.img="dvgold-img"):3===e?(t.bg="tag-bronze",t.img="dvwhite-img"):4===e?(t.bg="tag-outdoor",t.img="dvwhite-img",t.quantity="x3"):5===e?(t.bg="tag-sign",t.defName="Sign",t.defSecond="Put details in the comments",t.quantity=""):7===e?(t.bg="tag-green",t.defSecond="Title"):8===e?(t.bg="tag-greenmag",t.img="dvgold-img",t.defSecond="Title"):9===e?(t.bg="tag-bronze",t.img="dvwhite-img",t.defSecond="Title"):10===e?(t.bg="tag-outdoor",t.defSecond="Title",t.quantity="x3"):11===e?(t.bg="tag-basket",t.defName="<p style='font-size:60px;position:relative;top:-20%;'>&#8226;</p>",t.defSecond="<p style='font-size:19px;position:relative;bottom:30%;'>Basket Check</p>",t.quantity=""):12===e?(t.bg="tag-patrol",t.img="dvpatrol-img",t.quantity="x3"):13===e?(t.bg="tag-oldoutdoor",t.quantity="x3"):14===e?(t.bg="tag-blackdiamond",t.img="dvblackdiamond-img",t.quantity="x2"):11===e||(t.bg="tag-other"),t}(e.data.colorCode);n.bg=n.bg+"  justify-content-between";var l=[],s=e.data.name;return 5===e.data.colorCode&&((l=e.data.signColor.split(" / "))[0]="color-"+l[0].toLowerCase(),l[1]="bg-"+l[1].toLowerCase(),t=parseFloat(e.data.height),a=parseFloat(e.data.width),t*=50,a*=50,t+="px",a+="px",s=s.split("\n")),i.a.createElement(r.a,{xs:12,md:6,lg:4,className:"px-0"},5!==e.data.colorCode&&i.a.createElement(o.a,null,i.a.createElement(c.a,{className:n.bg},!("null-space"===n.img)&&i.a.createElement("div",{className:n.img}),i.a.createElement("div",{className:"title-parent"},i.a.createElement("div",{className:"title-text justify-content-center"},e.data.name),i.a.createElement("div",{className:"smaller-text justify-content-center"},e.data.secondLine),i.a.createElement("div",{className:"smaller-text justify-content-center"},e.data.thirdLine)))),5===e.data.colorCode&&i.a.createElement(o.a,{style:{width:a,height:t,textAlign:"center",margin:"auto",display:"flex",flexDirection:"row"},className:l[1]+" "+l[0]+" bg-basic"},i.a.createElement("div",{style:{display:"flex",flexDirection:"column",margin:"auto"}},s.map((function(e,t){return i.a.createElement(c.a,{className:"justify-content-center",key:t},e)})))))}},64:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n,i,r=a(68),o=a.n(r);a(69),a(70);function c(e,t){return new Promise((function(a,n){o.a.auth().setPersistence(o.a.auth.Auth.Persistence.NONE).then((function(){return o.a.auth().signInWithEmailAndPassword(e,t)})).then((function(){a(!0)})).catch((function(e){var t=e.code,a=e.message;n({code:t,msg:a})}))}))}function l(){return new Promise((function(e,t){o.a.auth().onAuthStateChanged((function(t){t?(console.log("checkAuth() passed with user: "+t.email),e(t.email)):console.log("checkAuth() failed: no credentials.")}))}))}function s(e){if("undefined"==typeof o.a.apps[0]){o.a.initializeApp({apiKey:"AIzaSyA1uPdDnmLSWqkuEkFlGH5YF7UvxvszceU",authDomain:"nametags-4019a.firebaseapp.com",projectId:"nametags-4019a"});var t=o.a.firestore();n=t.collection("names");var a=Math.sqrt(4356);a="iamanonymous"+a,c("anonymous@deervalley.com",a+="6")}if("auth"===e.mode)return new Promise((function(t,a){c(e.authUser,e.authPass).then((function(){l().then((function(e){t(e)})).catch((function(e){}))})).catch((function(e){a(e)}))}));if("read_all"===e.mode)return i=[],new Promise((function(e,t){l().then((function(){n.where("datefinished","==",0).get().then((function(t){t.forEach((function(e){-1===i.findIndex((function(t){return t.id===e.id}))&&i.push({id:e.id,data:e.data()})})),e(i)}))}))}));if("search_for"===e.mode){var r=[];return new Promise((function(t,a){l().then((function(){n.where("namearray","array-contains-any",[e.searchForString]).get().then((function(e){e.forEach((function(e){r.push({id:e.id,data:e.data()})}))})).then((function(){n.where("requestorarray","array-contains-any",[e.searchForString]).get().then((function(e){e.forEach((function(e){-1===r.findIndex((function(t){return t.id===e.id}))&&r.push({id:e.id,data:e.data()})})),t(r)}))}))}))}))}if("new_entry"===e.mode)return i=[],new Promise((function(t,a){l().then((function(){e.writeData.forEach((function(e,a){var i=e.name,r=e.requestor,o=i.toLowerCase(),c=r.toLowerCase(),l=o.split(" "),s=c.split(" ");l.unshift(o),s.unshift(c);var u=(new Date).getTime();5===e.color?n.add({name:i,namearray:l,color:5,attachment:e.attachment,signcolor:e.signColor,signquantity:e.signQuantity,height:e.height,width:e.width,thickness:e.thickness,requestor:r,requestorarray:s,comments:e.comments,daterequest:u,datefinished:0}).then((function(){t(!0)})):n.add({name:i,namearray:l,color:e.color,titlecity:e.secondLine,thirdline:e.thirdLine,requestor:r,requestorarray:s,comments:e.comments,daterequest:u,datefinished:0,quantity:e.quantity}).then((function(){t(!0)}))}))}))}));if("auth"===e.mode);else{if("update_entry"===e.mode)return new Promise((function(t,a){var i;if("done"===e.type){var r=new Date;i=r.getTime()}else"notdone"===e.type&&(i=0);e.docIdArray.forEach((function(e,a){n.doc(e).update({datefinished:i}).then((function(){console.log("Document successfully written on update_entry()!"),t(!0)})).catch((function(e){console.error("Error writing document on update_entry(): ",e)}))}))}));console.log("dbUtility() was called using a non supported utilityObj mode."),console.log("supported modes are 'read_all', 'search_for', 'new_entry', 'update_entry', or 'auth'."),console.log(e.mode)}}},66:function(e,t,a){"use strict";function n(e,t){var a=function(e){if(""===e)return"";return e.match(/\w|\n|\r|\t|\d|[.!,?@ ]|[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\xff]/g).join("")}(e);return e.length<t?"":a=function(e){var t,a=["AL","AK","AZ","AR","CA","CO","CT","DE","DC","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY"],n=e.split(",");2===n.length&&(t=n[1].slice(1));if(1===n.length){var i=(n=n[0].split(" "))[n.length-1];n.pop();var r=[];r[0]=n.join(" "),r.push(i),t=(n=r)[1]}var o=["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","District of Columbia","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Carolina","North Dakota","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"].indexOf(t);if(-1!==o)return n[0]+", "+a[o];var c=["Al","Ak","Az","Ar","Ca","Co","Ct","De","Dc","Fl","Ga","Hi","Id","Il","In","Ia","Ks","Ky","La","Me","Md","Ma","Mi","Mn","Ms","Mo","Mt","Ne","Nv","Nh","Nj","Nm","Ny","Nc","Nd","Oh","Ok","Or","Pa","Ri","Sc","Sd","Tn","Tx","Ut","Vt","Va","Wa","Wv","Wi","Wy"].indexOf(t);return-1!==c?n[0]+", "+a[c]:e}(a=function(e){var t=e.split(" ");""===t[t.length-1]&&t.pop();var a=t.map((function(e){var t=e[0].toUpperCase();return e=t+""+(e=e.slice(1))}));return a=a.join(" ")}(a=function(e){var t=e.split(",");if(t.length>1){var a=t[1];return t=" "===a[0]?t.join(","):t.join(", ")}return e}(a)))}a.d(t,"a",(function(){return n}))},85:function(e,t,a){},97:function(e,t,a){e.exports=a.p+"static/media/excel4.4dd2aaaf.png"}}]);
//# sourceMappingURL=7.2f456c84.chunk.js.map