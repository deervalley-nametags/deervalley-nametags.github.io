(this.webpackJsonpnametagapp=this.webpackJsonpnametagapp||[]).push([[1],{64:function(n,e,t){},65:function(n,e,t){"use strict";t.d(e,"a",(function(){return s}));var a,o,i=t(85),r=t.n(i);t(86),t(88);function c(n,e){return new Promise((function(t,a){r.a.auth().setPersistence(r.a.auth.Auth.Persistence.NONE).then((function(){return r.a.auth().signInWithEmailAndPassword(n,e)})).then((function(){t(!0)})).catch((function(n){var e=n.code,t=n.message;a({code:e,msg:t})}))}))}function u(){return new Promise((function(n,e){r.a.auth().onAuthStateChanged((function(e){e?(console.log("checkAuth() passed with user: "+e.email),n(e.email)):console.log("checkAuth() failed: no credentials.")}))}))}function s(n){if("undefined"==typeof r.a.apps[0]){r.a.initializeApp({apiKey:"AIzaSyA1uPdDnmLSWqkuEkFlGH5YF7UvxvszceU",authDomain:"nametags-4019a.firebaseapp.com",projectId:"nametags-4019a"});var e=r.a.firestore();a=e.collection("names");var t=Math.sqrt(4356);t="iamanonymous"+t,c("anonymous@deervalley.com",t+="6")}if("auth"===n.mode)return new Promise((function(e,t){c(n.authUser,n.authPass).then((function(){u().then((function(n){e(n)})).catch((function(n){}))})).catch((function(n){t(n)}))}));if("read_all"===n.mode)return o=[],new Promise((function(n,e){u().then((function(){a.where("datefinished","==",0).get().then((function(e){e.forEach((function(n){-1===o.findIndex((function(e){return e.id===n.id}))&&o.push({id:n.id,data:n.data()})})),n(o)}))}))}));if("search_for"===n.mode){var i=[];return new Promise((function(e,t){u().then((function(){a.where("namearray","array-contains-any",[n.searchForString]).get().then((function(n){n.forEach((function(n){i.push({id:n.id,data:n.data()})}))})).then((function(){a.where("requestorarray","array-contains-any",[n.searchForString]).get().then((function(n){n.forEach((function(n){-1===i.findIndex((function(e){return e.id===n.id}))&&i.push({id:n.id,data:n.data()})})),e(i)}))}))}))}))}if("new_entry"===n.mode)return o=[],new Promise((function(e,t){u().then((function(){n.writeData.forEach((function(n,t){var o=n.name,i=n.requestor,r=o.toLowerCase(),c=i.toLowerCase(),u=r.split(" "),s=c.split(" ");u.unshift(r),s.unshift(c);var d=(new Date).getTime();5===n.color?a.add({name:o,namearray:u,color:5,attachment:n.attachment,signcolor:n.signColor,signquantity:n.signQuantity,height:n.height,width:n.width,thickness:n.thickness,requestor:i,requestorarray:s,comments:n.comments,daterequest:d,datefinished:0}).then((function(){e(!0)})):a.add({name:o,namearray:u,color:n.color,titlecity:n.secondLine,thirdline:n.thirdLine,requestor:i,requestorarray:s,comments:n.comments,daterequest:d,datefinished:0,quantity:n.quantity}).then((function(){e(!0)}))}))}))}));if("auth"===n.mode);else{if("update_entry"===n.mode)return new Promise((function(e,t){var o;if("done"===n.type){var i=new Date;o=i.getTime()}else"notdone"===n.type&&(o=0);n.docIdArray.forEach((function(n,t){a.doc(n).update({datefinished:o}).then((function(){console.log("Document successfully written on update_entry()!"),e(!0)})).catch((function(n){console.error("Error writing document on update_entry(): ",n)}))}))}));console.log("dbUtility() was called using a non supported utilityObj mode."),console.log("supported modes are 'read_all', 'search_for', 'new_entry', 'update_entry', or 'auth'."),console.log(n.mode)}}}}]);
//# sourceMappingURL=1.25edd3df.chunk.js.map